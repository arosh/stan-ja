## 43. スパースな行絵rつの操作

スパースな行列とは，多くの要素がゼロであり，メモリーをセーブするために特別な表現方を使った方がより効果的ですし，行列操作(同関数の計算など)もスピードアップできます。Stanの実装の仕方を使えば，実際にスパース行列が使う(メモリ)空間を抑えることができます。密な行列の操作を最適化するのを簡単にできるので，90%かそれ以上のスパースな行列の時はスピードの改良が見込まれます。そのレベルほどではないなら，密な行列として計算する方が早いですが，メモリはたくさん消費します。

スピードアップとメモリの使用を抑えるためには，ベクトルの掛け算を始める前に，密な行列として読んでから，それをスパースな行列に置き換えた方が良いかもしれません。この章は，スパースな行列用の非常に特別な書式を解説するもので，密なベクトルをスパースな行列にかけたりする内容を含んでいますが，Stanでスパースなデータ構造を持つものに対してもっと一般的なコーディング方法が知りたければ，16章をみてください。

### 43.1 行のメモリを圧縮する
